<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Slots</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Telegram WebApp -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>

    <!-- Game Scripts -->
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDt5TovHhe0saMOkY2UuU6GyUdqea9UEuI",
            authDomain: "pixelslotsfruits.firebaseapp.com",
            databaseURL: "https://pixelslotsfruits-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "pixelslotsfruits",
            storageBucket: "pixelslotsfruits.firebasestorage.app",
            messagingSenderId: "499350436174",
            appId: "1:499350436174:web:59d8b6fbde1eb09325861f",
            measurementId: "G-5LZF3JY3M7"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const analytics = firebase.analytics();

        // Initialize Telegram WebApp
        window.Telegram.WebApp.ready();

        // Wait for everything to load
        window.addEventListener('load', () => {
            if (!window.Telegram || !window.Telegram.WebApp) {
                console.error('Please open in Telegram!');
                alert('Please open this game in Telegram!');
                return;
            }

            // Initialize game
            window.game = new PixelSlots();
        });
    </script>
</head>
<body>
    <div id="game-container">
        <div id="game-header">
            <div id="balance-container">
                <span>Balance:</span>
                <span id="balance">$0.00</span>
            </div>
            <div id="jackpot-container">
                <span>Jackpot:</span>
                <span id="jackpot">$0.00</span>
            </div>
        </div>

        <div id="slot-machine">
            <div class="reel"><div class="symbol">🎰</div></div>
            <div class="reel"><div class="symbol">🎰</div></div>
            <div class="reel"><div class="symbol">🎰</div></div>
        </div>

        <div id="controls">
            <div id="bet-controls">
                <button id="decrease-bet">-</button>
                <span id="current-bet">$0.10</span>
                <button id="increase-bet">+</button>
            </div>
            <button id="max-bet">MAX BET</button>
            <button id="spin-button">SPIN</button>
            <button id="auto-play">AUTO</button>
        </div>

        <div id="win-table">
            <div class="win-row">
                <span>🎰 🎰 🎰</span>
                <span>JACKPOT</span>
            </div>
            <div class="win-row">
                <span>7️⃣ 7️⃣ 7️⃣</span>
                <span>x20</span>
            </div>
            <div class="win-row">
                <span>💎 💎 💎</span>
                <span>x10</span>
            </div>
            <div class="win-row">
                <span>🍊 🍊 🍊</span>
                <span>x4</span>
            </div>
            <div class="win-row">
                <span>🍋 🍋 🍋</span>
                <span>x3</span>
            </div>
            <div class="win-row">
                <span>🍒 🍒 🍒</span>
                <span>x2</span>
            </div>
        </div>
    </div>

    <div id="win-overlay" style="display: none;">
        <div id="win-content">
            <h2>YOU WIN!</h2>
            <p id="win-amount">$0.00</p>
            <button id="collect-win">COLLECT</button>
        </div>
    </div>

    <!-- Game Script -->
    <script src="game.js"></script>
</body>
</html>
